#
# Keyspace Name
#
keyspace: stresscql
keyspace_definition: |
  CREATE KEYSPACE stresscql WITH replication = {'class': 'SimpleStrategy', 'replication_factor': 1};

#
# Table name and create CQL
#
table: blogposts
table_definition: |
  CREATE TABLE blogposts (
        domain text,
        published_date timeuuid,
        url text,
        author text,
        title text,
        body text,
        PRIMARY KEY(domain, published_date)
  ) WITH CLUSTERING ORDER BY (published_date DESC) 
    AND compaction = { 'class':'LeveledCompactionStrategy' } 
    AND comment='A table to hold blog posts'

#
# Meta information for generating data
#
columnspec:
  - name: domain
    size: gaussian(5..100)
    population: uniform(1..10M)
  - name: published_date
    cluster: fixed(1000)
  - name: url
    size: uniform(30..300)       
  - name: title
    size: gaussian(10..200)
  - name: author
    size: uniform(5..20)
  - name: body
    size: gaussian(100..5000)
   
#
# Specs for insert queries
#
insert:
  partitions: fixed(1)
  select:    fixed(1)/1000
  batchtype: UNLOGGED             # use unlogged batches


#
# Read queries to run against the schema
#
queries:
   singlepost:
      cql: select * from blogposts where domain = ? LIMIT 1 
      fields: samerow
